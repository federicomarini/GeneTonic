<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Style DT color bars — styleColorBar_divergent • GeneTonic</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Style DT color bars — styleColorBar_divergent"><meta property="og:description" content="Style DT color bars for values that diverge from 0."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- dependencies from examples --><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet"><script src="libs/datatables-binding-0.23/datatables.js"></script><link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet"><link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet"><script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet"><script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GeneTonic</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/GeneTonic_manual.html">The `GeneTonic` User's Guide
</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/federicomarini/GeneTonic" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Style DT color bars</h1>
    <small class="dont-index">Source: <a href="https://github.com/federicomarini/GeneTonic/blob/HEAD/R/GeneTonic-extras.R" class="external-link"><code>R/GeneTonic-extras.R</code></a></small>
    <div class="hidden name"><code>styleColorBar_divergent.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Style DT color bars for values that diverge from 0.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">styleColorBar_divergent</span><span class="op">(</span><span class="va">data</span>, <span class="va">color_pos</span>, <span class="va">color_neg</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>The numeric vector whose range will be used for scaling the table
data from 0-100 before being represented as color bars. A vector of length 2
is acceptable here for specifying a range possibly wider or narrower than the
range of the table data itself.</p></dd>


<dt>color_pos</dt>
<dd><p>The color of the bars for the positive values</p></dd>


<dt>color_neg</dt>
<dd><p>The color of the bars for the negative values</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>This function generates JavaScript and CSS code from the values
specified in R, to be used in DT tables formatting.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function draws background color bars behind table cells in a column,
width the width of bars being proportional to the column values <em>and</em> the color
dependent on the sign of the value.</p>
<p>A typical usage is for values such as <code>log2FoldChange</code> for tables resulting from
differential expression analysis.
Still, the functionality of this can be quickly generalized to other cases -
see in the examples.</p>
<p>The code of this function is heavily inspired from styleColorBar, and borrows
at full hands from an excellent post on StackOverflow -
https://stackoverflow.com/questions/33521828/stylecolorbar-center-and-shift-left-right-dependent-on-sign/33524422#33524422</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">res_de_macrophage</span>, package <span class="op">=</span> <span class="st">"GeneTonic"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">res_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="deseqresult2df.html">deseqresult2df</a></span><span class="op">(</span><span class="va">res_macrophage_IFNg_vs_naive</span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://magrittr.tidyverse.org" class="external-link">"magrittr"</a></span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘magrittr’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:GenomicRanges’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     subtract</span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/rstudio/DT" class="external-link">"DT"</a></span><span class="op">)</span></span>
<span class="r-in"><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">res_df</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="op">]</span>,</span>
<span class="r-in">  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">    pageLength <span class="op">=</span> <span class="fl">25</span>,</span>
<span class="r-in">    columnDefs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>className <span class="op">=</span> <span class="st">"dt-center"</span>, targets <span class="op">=</span> <span class="st">"_all"</span><span class="op">)</span></span>
<span class="r-in">    <span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/DT/man/DT-imports.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/pkg/DT/man/formatCurrency.html" class="external-link">formatRound</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/S4Vectors/man/Vector-class.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"log2FoldChange"</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/DT/man/DT-imports.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/pkg/DT/man/formatCurrency.html" class="external-link">formatStyle</a></span><span class="op">(</span></span>
<span class="r-in">    <span class="st">"log2FoldChange"</span>,</span>
<span class="r-in">    background <span class="op">=</span> <span class="fu">styleColorBar_divergent</span><span class="op">(</span></span>
<span class="r-in">      <span class="va">res_df</span><span class="op">$</span><span class="va">log2FoldChange</span>,</span>
<span class="r-in">      <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/alpha.html" class="external-link">alpha</a></span><span class="op">(</span><span class="st">"navyblue"</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span class="r-in">      <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/alpha.html" class="external-link">alpha</a></span><span class="op">(</span><span class="st">"darkred"</span>, <span class="fl">0.4</span><span class="op">)</span></span>
<span class="r-in">    <span class="op">)</span>,</span>
<span class="r-in">    backgroundSize <span class="op">=</span> <span class="st">"100% 90%"</span>,</span>
<span class="r-in">    backgroundRepeat <span class="op">=</span> <span class="st">"no-repeat"</span>,</span>
<span class="r-in">    backgroundPosition <span class="op">=</span> <span class="st">"center"</span></span>
<span class="r-in">  <span class="op">)</span></span>
<div id="htmlwidget-3094d2eeab4bd63eebaf" style="width:700px;height:432.632880098888px;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-3094d2eeab4bd63eebaf">{"x":{"filter":"none","vertical":false,"data":[["ENSG00000125347","ENSG00000162645","ENSG00000111181","ENSG00000174944","ENSG00000100336","ENSG00000145365","ENSG00000137496","ENSG00000154451","ENSG00000129244","ENSG00000231389","ENSG00000204257","ENSG00000100342","ENSG00000162654","ENSG00000133321","ENSG00000128284","ENSG00000134470","ENSG00000172399","ENSG00000164509","ENSG00000225492","ENSG00000204267","ENSG00000254838","ENSG00000131203","ENSG00000213886","ENSG00000100911","ENSG00000168394","ENSG00000242574","ENSG00000234518","ENSG00000163568","ENSG00000213626","ENSG00000183734","ENSG00000101017","ENSG00000140105","ENSG00000117228","ENSG00000244731","ENSG00000019582","ENSG00000204252","ENSG00000270547","ENSG00000089041","ENSG00000179583","ENSG00000121380","ENSG00000136436","ENSG00000170989","ENSG00000168899","ENSG00000153012","ENSG00000140511","ENSG00000185338","ENSG00000174749","ENSG00000188820","ENSG00000120217","ENSG00000188906"],["ENSG00000125347","ENSG00000162645","ENSG00000111181","ENSG00000174944","ENSG00000100336","ENSG00000145365","ENSG00000137496","ENSG00000154451","ENSG00000129244","ENSG00000231389","ENSG00000204257","ENSG00000100342","ENSG00000162654","ENSG00000133321","ENSG00000128284","ENSG00000134470","ENSG00000172399","ENSG00000164509","ENSG00000225492","ENSG00000204267","ENSG00000254838","ENSG00000131203","ENSG00000213886","ENSG00000100911","ENSG00000168394","ENSG00000242574","ENSG00000234518","ENSG00000163568","ENSG00000213626","ENSG00000183734","ENSG00000101017","ENSG00000140105","ENSG00000117228","ENSG00000244731","ENSG00000019582","ENSG00000204252","ENSG00000270547","ENSG00000089041","ENSG00000179583","ENSG00000121380","ENSG00000136436","ENSG00000170989","ENSG00000168899","ENSG00000153012","ENSG00000140511","ENSG00000185338","ENSG00000174749","ENSG00000188820","ENSG00000120217","ENSG00000188906"],[30585.0748883265,36790.5920505304,688.577919565877,1324.39747639268,2551.47890688804,3637.22214085418,7129.41886519519,17174.9878575061,682.830565611019,5147.82466391787,1909.4162353172,4112.43755664088,52292.4943478859,1393.4280378222,13363.5511834471,4468.96317618825,714.509569796589,700.313240845009,1295.30592379699,10442.437807972,135.999752723841,92938.142200338,2086.32847124513,11111.0666987423,38700.3668672213,2265.52471729481,312.091299322746,1455.22972950335,4433.05487916745,893.121787710509,28016.7059463167,166892.849998732,98501.1677271747,730.71358045149,53359.7149482416,147.636920108219,221.09023110603,14232.2602334914,1521.72020788029,1206.20620346313,4841.03235474588,704.695551637497,715.881798148041,528.597634659446,4173.84123536325,4154.86261211959,1397.79873316491,8001.34973202702,26735.0570044785,10573.2746510984],[5.56012373180949,6.66580377223998,4.71059186144664,9.86390377567812,8.70855050493442,5.19344776114725,4.05866209030408,10.3764778869772,7.19156671429518,5.593758623049,4.0715746819976,7.13529667019009,9.75276915703323,7.44881999919895,7.97721557262308,4.30057258530486,-7.82988598695792,8.39518478432788,6.14130118384175,3.45826565890319,5.5910752374154,9.54515259204768,10.2693828470306,3.35897149231688,5.35676707581348,3.81958342347924,8.27685932371763,7.8042530826668,-4.42792907012291,4.23724054507885,3.47849682236114,5.82727503010082,7.68616604774906,5.02791597410857,4.15277182970607,5.78265733072056,-5.37058210790838,4.65617673504703,6.11224883805674,5.99691159440314,2.82812524913625,-5.36585747842242,4.74393193779009,-6.37084254163739,7.09173660270396,7.6897534215834,2.92558599754005,5.68178484873735,6.58533754666227,4.60581863970274],[0.218266320907506,0.286573164688237,0.196102274693952,0.471512737247682,0.421409591874923,0.236854232613199,0.177364584673342,0.551586847574527,0.381506097076733,0.284774750166074,0.190921435522315,0.395906349901327,0.56921759131965,0.419830442538652,0.454494945390034,0.22022643312437,0.46311275326577,0.536171750825857,0.374065412761142,0.179235202123554,0.335403468597176,0.644384499019632,0.703626324346057,0.179410258354676,0.337264863816224,0.219870421838312,0.576720451866638,0.543387363941137,0.275004543354174,0.260041233342371,0.200633385719938,0.391766025817988,0.552174563559567,0.334446879461445,0.264525013798525,0.40296544847427,0.370389876094166,0.316525515937016,0.449889179202461,0.439943586965169,0.161138536989443,0.386740232853674,0.333167369355992,0.483211518405311,0.550796170038746,0.604771595842609,0.174477721388015,0.42695110348066,0.515283973618276,0.333987579081745],[20.8924753615191,19.7708804256107,18.9217175947479,18.7988639022109,18.2922995906139,17.7047617637278,17.2450554091016,16.9990962043567,16.2292732979569,16.1312006080947,16.0881604184177,15.4968382591469,15.3768423367612,15.3605345057969,15.3515801295335,14.987177236081,-14.7477821303669,13.792566976789,13.7443907093456,13.7153060881903,13.6882163342483,13.2609530568291,13.1737294730202,13.1484760902213,12.9179394097438,12.8238414239851,12.6176543595169,12.521919967583,-12.464990680929,12.4489508970168,12.3533618967127,12.3218316851792,12.1087903880378,12.0435148941879,11.9186151223769,11.8686536248428,-11.799950241613,11.5509699880706,11.3633514082723,11.3580734949973,11.3450530412599,-11.2888629305715,11.2373908195963,-11.1148893125772,11.0598746579437,11.061619738048,11.0362857917992,10.9656230199893,10.8393387580882,10.7962656863362],[6.26846958552434e-97,5.30422167567452e-87,7.55518109699954e-80,7.71512445232874e-79,9.53082915349904e-75,3.85307607651916e-70,1.21895817284404e-66,8.33957700139315e-65,3.13144749741892e-59,1.53997389049779e-58,3.08879381067882e-58,3.64387650014408e-54,2.34088802773413e-53,3.01082051050944e-53,3.45663241457752e-53,8.905856523366e-51,3.17942556009145e-49,2.82524931665334e-43,5.50344128725125e-43,8.22186832918174e-43,1.19404451798469e-42,3.89908774178204e-40,1.24302399938622e-39,1.73638737731849e-39,3.5656292381568e-38,1.20575454022716e-37,1.68773730582698e-36,5.66480494659608e-36,1.15885332646125e-35,1.41695422304983e-35,4.67175485529163e-35,6.91065832734736e-35,9.4883064969973e-34,2.09821189705118e-33,9.46690667295032e-33,1.72216841543857e-32,3.90542320407792e-32,7.29919399347651e-31,6.36548580545004e-30,6.76193471467554e-30,7.84786424084209e-30,1.48951105524605e-29,2.67162110161171e-29,1.06182228238964e-28,1.96371748824009e-28,1.92587839358137e-28,2.55372357256293e-28,5.59141164182761e-28,2.24084822629647e-27,3.5848865062924e-27],[1.11616369439846e-92,4.72234855785302e-83,4.48425182043913e-76,3.43438764995414e-75,3.39411887814408e-71,1.14346454364167e-66,3.10068131795156e-63,1.85618135108508e-61,6.19539490433793e-56,2.74207750942036e-55,4.99991478117701e-55,5.40690541346379e-51,3.20629632475646e-50,3.82933357215222e-50,4.10325311826449e-50,9.91110507844094e-48,3.33016773664637e-46,2.79479940735164e-40,5.15759345056819e-40,7.31992937347051e-40,1.01243603272549e-39,3.15577983318959e-37,9.62316753611786e-37,1.28825473502221e-36,2.5395837685848e-35,8.2575635935711e-35,1.11303149879834e-33,3.60241131711035e-33,7.11535942447209e-33,8.4100956318751e-33,2.6833957081717e-32,3.84534944302335e-32,5.1196601662283e-31,1.09884591290863e-30,4.81622114910153e-30,8.51803633480533e-30,1.87945852896788e-29,3.42024863810112e-28,2.90625231414983e-27,3.01007523823782e-27,3.40827001640084e-27,6.31481758326455e-27,1.10629965896042e-26,4.29700171823409e-26,7.60129425991371e-26,7.60129425991371e-26,9.67480892192673e-26,2.07418074363297e-25,8.14296806478265e-25,1.27664978262085e-24],["IRF1","GBP2","SLC6A12","P2RY14","APOL4","TIFA","IL18BP","GBP5","ATP1B2","HLA-DPA1","HLA-DMA","APOL1","GBP4","PLAAT4","APOL3","IL15RA","MYOZ2","IL31RA","GBP1P1","TAP2","GVINP1","IDO1","UBD","PSME2","TAP1","HLA-DMB",null,"AIM2","LBH","ASCL2","CD40","WARS1","GBP1","C4A","CD74","HLA-DOA","LINC01235","P2RX7","CIITA","BCL2L14","CALCOCO2","S1PR1","VAMP5","LGI2","HAPLN3","SOCS1","FAM241A","CALHM6","CD274","LRRK2"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>baseMean<\/th>\n      <th>log2FoldChange<\/th>\n      <th>lfcSE<\/th>\n      <th>stat<\/th>\n      <th>pvalue<\/th>\n      <th>padj<\/th>\n      <th>SYMBOL<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":25,"columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"className":"dt-center","targets":"_all"},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'background':isNaN(parseFloat(value)) || value < 0 ? 'linear-gradient(90deg, transparent, transparent ' + (50 + value/10.5987551430247 * 50) + '%, #00008066 ' + (50 + value/10.5987551430247 * 50) + '%,#00008066  50%,transparent 50%)': 'linear-gradient(90deg, transparent, transparent 50%, #8B000066 50%, #8B000066 ' + (50 + value/10.5987551430247 * 50) + '%, transparent ' + (50 + value/10.5987551430247 * 50) + '%)','background-size':'100% 90%','background-repeat':'no-repeat','background-position':'center'});\n}"}},"evals":["options.columnDefs.0.render","options.rowCallback"],"jsHooks":[]}</script><span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">simplest_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span class="r-in">  a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/S4Vectors/man/Vector-class.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/S4Vectors/man/Vector-class.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">9</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/S4Vectors/man/Vector-class.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="op">-</span><span class="fl">3</span>, <span class="op">-</span><span class="fl">2</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># or with a very simple data frame</span></span>
<span class="r-in"><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">simplest_df</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/DT/man/DT-imports.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/pkg/DT/man/formatCurrency.html" class="external-link">formatStyle</a></span><span class="op">(</span></span>
<span class="r-in">    <span class="st">"value"</span>,</span>
<span class="r-in">    background <span class="op">=</span> <span class="fu">styleColorBar_divergent</span><span class="op">(</span></span>
<span class="r-in">      <span class="va">simplest_df</span><span class="op">$</span><span class="va">value</span>,</span>
<span class="r-in">      <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/alpha.html" class="external-link">alpha</a></span><span class="op">(</span><span class="st">"forestgreen"</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span class="r-in">      <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/alpha.html" class="external-link">alpha</a></span><span class="op">(</span><span class="st">"gold"</span>, <span class="fl">0.4</span><span class="op">)</span></span>
<span class="r-in">    <span class="op">)</span>,</span>
<span class="r-in">    backgroundSize <span class="op">=</span> <span class="st">"100% 90%"</span>,</span>
<span class="r-in">    backgroundRepeat <span class="op">=</span> <span class="st">"no-repeat"</span>,</span>
<span class="r-in">    backgroundPosition <span class="op">=</span> <span class="st">"center"</span></span>
<span class="r-in">  <span class="op">)</span></span>
<div id="htmlwidget-97f4d3068a47473d008a" style="width:700px;height:432.632880098888px;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-97f4d3068a47473d008a">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9"],["a","a","a","a","a","a","a","a","a"],[-4,-3,-2,-1,0,1,2,3,4]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>a<\/th>\n      <th>value<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'background':isNaN(parseFloat(value)) || value < 0 ? 'linear-gradient(90deg, transparent, transparent ' + (50 + value/4 * 50) + '%, #228B2266 ' + (50 + value/4 * 50) + '%,#228B2266  50%,transparent 50%)': 'linear-gradient(90deg, transparent, transparent 50%, #FFD70066 50%, #FFD70066 ' + (50 + value/4 * 50) + '%, transparent ' + (50 + value/4 * 50) + '%)','background-size':'100% 90%','background-repeat':'no-repeat','background-position':'center'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://federicomarini.github.io" class="external-link">Federico Marini</a>, Annekathrin Ludt.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

